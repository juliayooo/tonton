<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tonton - menu</title>
    <link rel="icon" type="image/x-icon" href="/tonton.png">

    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="container">
        <h1>TONTON</h1>
        <h2>MATCHA & COFFEE BAR</h2>


        <!-- <img src="tonton.png" class="logo"> -->

        <nav>
            <a href="index.html">home</a>
            <a href="menu.html">menu</a>
            <a href="https://gosnappy.io/owa/r/tonton-matcha-coffee/4908/menu_664/?skipBeforeEnter=true">order (via snappy)</a>
        
        </nav>

        <div id="info-div">
            <div class="menu-items"></div>
            

        </div>
    </div>
   
   

    <script type="module">


  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
  import { getStorage, ref, getDownloadURL } from "firebase/storage";

  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAVlvBKCE4q2zKMHwgdJ1HbuNnD15wmgzg",
    authDomain: "tonton-377bb.firebaseapp.com",
    projectId: "tonton-377bb",
    storageBucket: "tonton-377bb.firebasestorage.app",
    messagingSenderId: "663063025148",
    appId: "1:663063025148:web:a96b8fc6b174510f774e79"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const storage = getStorage();


     
            getData();


        async function getData() {
            try {
                // Fetch data from Google Sheets
                const x = "https://opensheet.elk.sh/1s6BUyY1va_Kt-rKz4_N-WstHL_C1WqQhyo-Klf5_ymU/1";
                let response = await fetch(x);
                let data = await response.json();
                console.log(data);

                const page = document.querySelector(".menu-items");
                page.innerHTML = "<br>";
                data.forEach((line) => {

                    // MAKE HEADINGS THAT START W * BOLD
                    if (line.item.startsWith("*")){
                        const title = document.createElement("h3");
                        title.textContent = line.item.replace("*", "");;
                        title.style.gridColumn = "1 / -1";
                        title.style.fontWeight = "bold";

                        
                        page.appendChild(title);

                    }
                    // ADD SPACING FOR SLASHES
                    else if(line.item === "/"){
                        
                        const spacer = document.createElement("br"); 
                        page.appendChild(spacer);
                        

                    }
                    else if(line.item == ""){
                        
                    }
                    // PRINT OTHER LINES REGULAR
                    else if(line.item !== "" && line.item !== "/"){
                        // const title = document.createElement("p");

                        // title.textContent = line.item + "  " + line.price;
                        // page.appendChild(title);
                        const card = document.createElement("div");
                        card.className = "menu-card";


                        const filename = line.filename;
                        const storageRef = ref(storage, filename);
                        const productimg = document.createElement("img");
                        productimg.src="./matcha.jpg";
                        // productimg.style.gridColumn = "1 / -1";
                        productimg.style.width="80%";
                        productimg.style.margin="auto";

                        const content = document.createElement("p");
                        content.innerHTML = `${line.item}`;
                        card.appendChild(productimg);
                        card.appendChild(content);
                        page.appendChild(card);
                        
                    }
                    
                }
            
            );
            } catch (error) {
            console.error("Error:", error);
            }
        };
    </script>
</body>

</html>